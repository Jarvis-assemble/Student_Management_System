<html>
  <head><link rel="stylesheet" type="text/css" href="/public/stylesheet/table.css">
    <style>
      /* styles.css */

/* General styles */
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f4f4f4;
}

h3 {
    text-align: center;
    margin-top: 20px;
}

.navbar {
    display: flex;
    justify-content: center;
    background-color: #333;
    overflow: hidden;
}

.navbar a {
    color: white;
    padding: 14px 20px;
    text-align: center;
    text-decoration: none;
    font-size: 17px;
}

.navbar a:hover {
    background-color: #ddd;
    color: black;
}

/* Tools section */
.tools {
    display: flex;
    justify-content: center;
    margin: 20px 0;
}

.Search-field {
    padding: 10px;
    font-size: 17px;
    border: 1px solid #ccc;
    border-radius: 4px;
}

.Search-button {
    padding: 10px 20px;
    font-size: 17px;
    margin-left: 10px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

.Search-button:hover {
    background-color: #ddd;
}

/* Student table */
.container {
    width: 90%;
    margin: 0 auto;
}

.student-table {
    width: 100%;
    border-collapse:inherit;
    margin: 20px 0;
    font-size: 15px;
    text-align: center;
}

.student-table th, .student-table td {
    border: 1px solid #ddd;
    padding: 12px;
}

.student-table th {
    background-color: #f2f2f2;
}

.student-table img {
    display:flex;
    margin: 0 auto;
}

/* Edit button */
.edit-name {
    display: flex;
    justify-content: center;
    margin-top: 10px;
}

.btn {
    background-color: #4CAF50;
    color: white;
    border: none;
    padding: 5px 10px;
    cursor: pointer;
}

.btn:hover {
    background-color: #45a049;
}

.glyphicon-edit {
    margin-right: 5px;
}

    </style>
  </head>

<body>
    <h3><b>STUDENT DATABASE</b></h3>
    <div class="navbar">
      <a href="/">Add Student</a>
      <a href="/students/">Student Data</a>
    </div>
    
    <div class="tools">
      <input id="search" class="Search-field" type="text" placeholder="Enter search term" />
      <button id="searchButton" class="Search-button">Search</button>
      <button id="clearButton" class="Search-button">Clear filters</button>
    </div>
  
    <div class="container">
      <table id="studentTable" class="student-table">
        <thead>
          <tr>
            <th>Student Id</th>
            <th>Student Name</th>
            <th>Gender</th>
            <th>Dept.</th>
            <th>Email</th>
            <th>Telephone Number</th>
            <th>Cutoff</th>
            <th>Birthday</th>
            
            <th>City</th>
            <th>State</th>
            <th>Zip</th>
            <th>Profile Picture</th>

          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
    </div>
  
    <script>
      function getStudents(url) {
        fetch(url)
          .then((response) => response.json())
          .then((data) => {
            populateStudentTable(data);
          })
          .catch((error) => {
            console.error('Error fetching student data:', error);
          });
      }
  
      getStudents('http://localhost:3000/students/');
  
      function populateStudentTable(data) {
        const studentTable = document.getElementById('studentTable').getElementsByTagName('tbody')[0];
  
        // Clear existing rows
        while (studentTable.rows.length > 0) {
          studentTable.deleteRow(0);
        }
  
        data.forEach((student) => {
          const row = studentTable.insertRow();
  
          row.innerHTML = `
            <td>${student.id}</td>
            <td>${student.name}</td>
            <td>${student.gender}</td>
            <tg>${student.dept}</td>
            <td>${student.email}</td>
            <td>${student.telNo}</td>
            <tg>${student.cutoff}</td>
            <td>${student.bday}</td>
            <td>${student.inputCity}</td>
            <td>${student.inputState}</td>
            <td>${student.inputZip}</td>

            <td><img src="http://localhost:3000/images/${student.avatarPath}" alt="Profile Pic" style="width: 50px; height: 50px;"></td>
          `;
        });
      }
    </script>
  </body>
  </html>